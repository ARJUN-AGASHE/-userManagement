<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CodePen - Sign up / Login Form</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <!-- partial:index.partial.html -->
    <!DOCTYPE html>
    <html>
      <head>
        <title>Slide Navbar</title>
        <link rel="stylesheet" type="text/css" href="slide navbar style.css" />
        <link
          href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap"
          rel="stylesheet"
        />
      </head>
      <body>
        <div class="main">
          <input type="checkbox" id="chk" aria-hidden="true" />

          <div class="signup">
            <form>
              <label for="chk" aria-hidden="true">Sign up</label>
              <input
                id="userName"
                type="text"
                name="txt"
                placeholder="User name"
                required=""
              />
              <input
                id="email"
                type="email"
                name="email"
                placeholder="Email"
                required=""
              />
              <input
                id="password"
                type="password"
                name="pswd"
                placeholder="Password"
                required=""
              />
              <button id="signupbutton">Sign up</button>
            </form>
          </div>

          <div class="login">
            <form>
              <label for="chk" aria-hidden="true">Login</label>
              <input
                type="email"
                name="email"
                placeholder="Email"
                required=""
              />
              <input
                type="password"
                name="pswd"
                placeholder="Password"
                required=""
              />
              <button>Login</button>
            </form>
          </div>
        </div>
      </body>
      <script>
        const signupbutton = document.getElementById("signupbutton");
        const userName_el = document.getElementById("userName");
        const email_el = document.getElementById("email");
        const password_el = document.getElementById("password");

        signupbutton.addEventListener("click", async () => {			
			
			
			const userCredential = {
            name: email_el.value,
            password: password_el.value,
            email: email_el.value,
          };

          const response = await fetch("/singup", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(userCredential),
          });

          if (response.ok) {
            console.log(response);

			window.location.href="/"
          } else {
            let val = response.json();
            console.log(val);
          }
        });
      </script>
    </html>
    <!-- partial -->
  </body>
</html>
